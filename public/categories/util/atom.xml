<?xml version="1.0" encoding="utf-8"?>
<feed xmlns="http://www.w3.org/2005/Atom">

  <title><![CDATA[Category: util | NMOTW]]></title>
  <link href="http://hemanth.github.io/nmotw.in/public/categories/util/atom.xml" rel="self"/>
  <link href="http://hemanth.github.io/nmotw.in/"/>
  <updated>2014-08-28T22:45:41+05:30</updated>
  <id>http://hemanth.github.io/nmotw.in/</id>
  <author>
    <name><![CDATA[Hemanth.HM]]></name>
    
  </author>
  <generator uri="http://octopress.org/">Octopress</generator>

  
  <entry>
    <title type="html"><![CDATA[verbal-expressions]]></title>
    <link href="http://hemanth.github.io/nmotw.in/verbal-expressions/"/>
    <updated>2014-08-28T22:14:18+05:30</updated>
    <id>http://hemanth.github.io/nmotw.in/verbal-expressions</id>
    <content type="html"><![CDATA[<blockquote><p>JavaScript Regular Expressions made easy</p></blockquote>

<p><a href="https://www.npmjs.org/package/verbal-expressions">VerbalExpressions</a> helps us to construct difficult regular expressions is an intuitive manner.</p>

<p><strong>Install it:</strong> <code>npm install verbal-expressions</code></p>

<p><strong>Example usage:</strong></p>

<p>```javascript
var ve = require('verbal-expressions');
var url = "http://nmotw.in";
var vre = ve()</p>

<pre><code>.startOfLine()
.then( 'http' )
.maybe( 's' )
.then( '://' )
.maybe( 'www.')
.anythingBut( " " )
.endOfLine();
</code></pre>

<p>vre.test(url); //true</p>

<p>vre.toRegExp(); // /<sup>(?:http)(?:s)?(?:\:\/\/)(?:www.)?(?:[<sup>\</sup></sup> ]*)$/gm
```</p>

<p><strong>What else do we have?</strong></p>

<p>Modifiers:</p>

<ul>
<li><p>anything()</p></li>
<li><p>anythingBut( value )</p></li>
<li><p>endOfLine()</p></li>
<li><p>find( value )</p></li>
<li><p>maybe( value )</p></li>
<li><p>startOfLine()</p></li>
<li><p>then( value )</p></li>
</ul>


<p>Special characters and groups:</p>

<ul>
<li><p>any( value )</p></li>
<li><p>anyOf( value )</p></li>
<li><p>br()</p></li>
<li><p>lineBreak()</p></li>
<li><p>range( from, to)</p></li>
<li><p>tab()</p></li>
<li><p>word()</p></li>
</ul>


<p>Modifiers:</p>

<ul>
<li><p>withAnyCase()</p></li>
<li><p>stopAtFirst()</p></li>
<li><p>searchOneLine()</p></li>
</ul>


<p>Functions:</p>

<ul>
<li>replace( source, value )</li>
</ul>


<p>Others:</p>

<ul>
<li><p>add( expression )</p></li>
<li><p>multiple( value )</p></li>
<li><p>or()</p></li>
</ul>


<p><strong>GIF FTW!</strong></p>

<p><img src="/images/verbal-expressions/verbal-expressions.gif" alt="" /></p>

<p>Thanks to <strong>Mihai Ionut Vilcu</strong> for verbal expressions!</p>
]]></content>
  </entry>
  
  <entry>
    <title type="html"><![CDATA[only]]></title>
    <link href="http://hemanth.github.io/nmotw.in/only/"/>
    <updated>2014-08-21T06:24:47+05:30</updated>
    <id>http://hemanth.github.io/nmotw.in/only</id>
    <content type="html"><![CDATA[<h2>Only</h2>

<blockquote><p>Return whitelisted properties of an object.</p></blockquote>

<p><a href="https://www.npmjs.org/package/only">Only</a> will only return the properties of an object that we are intrested in.</p>

<p>A simple and an effective module from <a href="http://tjholowaychuk.com/">Tj Holowaychuk </a>.</p>

<p><strong>Install it:</strong> <code>npm install only</code></p>

<p><strong>Sample usage:</strong></p>

<p>Say we have a response from a mongo query which looks like:</p>

<p>```javascript
var obj = {</p>

<pre><code>name: 'tobi',
last: 'holowaychuk',
email: 'tobi@learnboost.com',
_id: '12345'
</code></pre>

<p>};
```</p>

<p>Out of which we are intrested on only <code>name</code> and <code>email</code>, so all we need to do is:</p>

<p>```javascript</p>

<p>let only = require('only');</p>

<p>var obj = {</p>

<pre><code>name: 'tobi',
last: 'holowaychuk',
email: 'tobi@learnboost.com',
_id: '12345'
</code></pre>

<p>};</p>

<p>console.log(only(obj,'name email'));</p>

<p>// ^ Would log { name: 'tobi', email: 'tobi@learnboost.com' }</p>

<p>console.log(only(obj,'name foo bar baz'));</p>

<p>// Smart enough to omit undefineds and logs { name: 'tobi' }</p>

<p>```</p>

<p>The cool part being, the entire module is just ten lines and it reads:</p>

<p>```javascript
module.exports = function(obj, keys){</p>

<pre><code>obj = obj || {};
if ('string' == typeof keys) keys = keys.split(/ +/);
return keys.reduce(function(ret, key){
    if (null == obj[key]) return ret;
    ret[key] = obj[key];
    return ret;
}, {});
</code></pre>

<p>};
```</p>

<p><strong>GIF FTW!</strong></p>

<p><img src="/images/only/only.gif" alt="only" /></p>
]]></content>
  </entry>
  
  <entry>
    <title type="html"><![CDATA[ms]]></title>
    <link href="http://hemanth.github.io/nmotw.in/ms/"/>
    <updated>2014-08-07T18:08:24+05:30</updated>
    <id>http://hemanth.github.io/nmotw.in/ms</id>
    <content type="html"><![CDATA[<p><a href="">ms</a> a Tiny milisecond conversion utility, that does the below:</p>

<ul>
<li><p>number -> (ms) -> string with a unit is returned.</p></li>
<li><p>string -> (ms) -> string</p></li>
<li><p>string+number with a valid unit -> (ms) -> number of equivalent ms</p></li>
</ul>


<p><strong>Installing:</strong> <code>npm install ms</code></p>

<p><strong>Usage:</strong></p>

<p>```javascript
var ms = require('ms');</p>

<p>ms('1d'); // 86400000</p>

<p>ms('1h'); // 3600000</p>

<p>ms('1m') // 60000</p>

<p>ms('1s') // 1000</p>

<p>ms('1000') // 1000</p>

<p>ms('1000',{long:true}) // 1000</p>

<p>ms(1000,{long:true}) // '1 second'</p>

<p>```</p>

<p><code>ms</code> is one of those sweet tiny module that does exactly what is expected from it. The code is just 111 lines, logic is pretty simple,
the method parses the given <code>str</code> and return milliseconds ;) well it also support short and long format for <code>ms</code> and has a Pluralization helper too.</p>

<p>Below as few selected chunks from the source code:</p>

<p><strong>Helpers:</strong></p>

<p><code>javascript
var s = 1000;
var m = s * 60;
var h = m * 60;
var d = h * 24;
var y = d * 365.25;
</code></p>

<p><strong>Matcher:</strong></p>

<p><code>javascript
/^((?:\d+)?\.?\d+) *(ms|seconds?|s|minutes?|m|hours?|h|days?|d|years?|y)?$/i
</code></p>

<p><strong>Pluralization:</strong></p>

<p><code>javascript
function plural(ms, n, name) {
  if (ms &lt; n) return;
  if (ms &lt; n * 1.5) return Math.floor(ms / n) + ' ' + name;
  return Math.ceil(ms / n) + ' ' + name + 's';
}
</code></p>

<p><strong>GIF FTW!</strong></p>

<p><img src="/images/ms/ms.gif" alt="ms" /></p>

<p>Special thanks to <a href="http://twitter.com/rauchg">Guillermo Rauch</a> for this wonderful module :)</p>
]]></content>
  </entry>
  
  <entry>
    <title type="html"><![CDATA[json-mask]]></title>
    <link href="http://hemanth.github.io/nmotw.in/json-mask/"/>
    <updated>2014-04-17T17:50:46+05:30</updated>
    <id>http://hemanth.github.io/nmotw.in/json-mask</id>
    <content type="html"><![CDATA[<p><a href="https://github.com/nemtsov/json-mask">json-mask</a> Tiny language and engine for selecting specific parts of a JS object, hiding the rest.</p>

<p><img src="https://raw.github.com/nemtsov/json-mask/master/logo.png" alt="" /></p>

<p>The main difference between JSONPath / JSONSelect and this engine is that JSON Mask preserves the structure of the original input object.</p>

<p>It's <a href="https://github.com/nemtsov/json-mask/blob/master/lib/compiler.js">complier</a> uses a cute grammar syntax:</p>

<p><code>
 Props ::= Prop | Prop "," Props
   Prop ::= Object | Array
 Object ::= NAME | NAME "/" Object
  Array ::= NAME "(" Props ")"
   NAME ::= ? all visible characters ?
</code></p>

<p>Translating it few examples, that are loosely based on XPath syntax:</p>

<ul>
<li><code>a,b,c</code> comma-separated list will select multiple fields</li>
<li><code>a/b/c</code> path will select a field from its parent</li>
<li><code>a(b,c)</code> sub-selection will select many fields from a parent</li>
<li><code>a/*/c</code> the star <code>*</code> wildcard will select all items in a field</li>
</ul>


<p><strong>Example:</strong></p>

<p>```javascript</p>

<blockquote><p>var jmask = require('json-mask');</p>

<p>var data = {name: {first: 'hemanth', last:'hm'}, age:7}</p>

<p>jmask(data,'name')
{ name: { first: 'hemanth', last: 'hm' } }</p>

<p>jmask(data,'name/first')
{ name: { first: 'hemanth' } }</p>

<p>jmask(data,'name/last')
{ name: { last: 'hm' } }</p>

<p>jmask(data,'name/first,age')
{ name: { first: 'hemanth' }, age: 7 }
```</p></blockquote>

<p><strong>GIF FTW!</strong></p>

<p><img src="/images/json-mask/json-mask.gif" alt="json-mask" /></p>

<p>Special thanks to the author <a href="http://yuriynemtsov.com">Yuriy Nemtsov</a> for a wonderful module!</p>
]]></content>
  </entry>
  
</feed>
